---
import Layout from '~/layouts/Layout.astro';
import NaviBar from '~/components/widgets/landingpage/NaviBar.astro';

const lessons = [
  {
    id: 1,
    title: 'Feng Shui Foundations',
    price: '100',
    description: 'A scientific diagnostic tool to identify hidden risks within your floor plan.Every home has nine energy sectors. We identify where your space is "leaking" energy.',
    features: ['Ideal For: Pre-purchase home inspections or auditing your current residence.', 'Purpose: Minimize personal "energy drain" and mitigate environmental risks.', 'Real-World Case: A defect in the North Sector is linked to kidney vitality and sudden disruptions in cash flow. By fixing the spatial leak, you reinforce both your biological health and your financial liquidity.'],
  },
  {
    id: 2,
    title: 'Interior Energy Diagnostics',
    price: '300',
    description: 'De-mystifying Feng Shui. Learn to recognize energy symbols without falling into common superstitions.',
    features: ['Key Insights:  Why do some houses lead to bankruptcy for certain owners?', 'Intuition vs. Alignment: Why a house you love might be draining your health.', 'The "Millionaire Myth": Can a good house make you rich while you do nothing? (The reality of human-environment resonance).'],
  },
  {
    id: 3,
    title: 'The Art of Energy Flow',
    price: '3000',
    description: 'Beyond identification—learn how to activate and harness the energy of a room. Using "Architectural Dynamics" to program your space for specific outcomes.',
    features: ['Real-World Case: Office/Workspace: Program the energy to trigger high focus and close deals.', 'Bedroom: Adjust the frequency to lower cortisol and induce deep restorative sleep.', 'Maximize the "ROI" of your space; turn your environment into a performance-enhancing tool.'],
  },
  {
    id: 4,
    title: 'Personalized Alignment',
    price: '4000',
    description: 'Precision matching between an individual’s unique "Energy Signature" (Destiny) and their physical environment. A house is about Resonance. We align the house to amplify your specific timing.',
    features: ['Two people move into the same apartment. A sees no change; B receives a promotion. Because Person B’s internal frequency perfectly "synchronized" with the buildings grid.', 'Career breakthroughs, legacy wealth, health crises, and deep relationship alignment.', 'Bespoke environmental engineering. Make your home work exclusively for your goals.'],
  }
];
---

<Layout title="Feng Shui Lessons - SERENA">
  <section id="lesson-page" class="min-h-screen w-full flex items-center justify-center bg-gradient-to-br from-black via-slate-900 to-black relative overflow-hidden">
    <NaviBar />
    
    <!-- 背景装饰 - 浮动球 -->
    <div class="absolute inset-0 z-0 overflow-hidden">
      <!-- 大球1 -->
      <div class="floating-orb floating-orb-1 absolute w-[400px] h-[400px] rounded-full blur-3xl opacity-30" 
           style="background: linear-gradient(135deg, #00ff7b, #00eaff, #008cff);"></div>
      <!-- 大球2 -->
      <div class="floating-orb floating-orb-2 absolute w-[350px] h-[350px] rounded-full blur-3xl opacity-25" 
           style="background: linear-gradient(225deg, #00eaff, #008cff, #00ff7b);"></div>
      <!-- 中球1 -->
      <div class="floating-orb floating-orb-3 absolute w-[250px] h-[250px] rounded-full blur-2xl opacity-20" 
           style="background: linear-gradient(180deg, #008cff, #00ff7b);"></div>
      <!-- 中球2 -->
      <div class="floating-orb floating-orb-4 absolute w-[200px] h-[200px] rounded-full blur-2xl opacity-25" 
           style="background: linear-gradient(90deg, #00ff7b, #00eaff);"></div>
      <!-- 小球1 -->
      <div class="floating-orb floating-orb-5 absolute w-[150px] h-[150px] rounded-full blur-xl opacity-30" 
           style="background: radial-gradient(circle, #00eaff, #008cff);"></div>
    </div>

    <div class="relative z-10 w-full max-w-7xl px-16 md:px-8 py-40">
      <!-- 顶部文字区域 -->
      <div class="mb-20 text-center">
        <h1 class="text-4xl md:text-5xl lg:text-6xl font-light text-white mb-6 tracking-wide">
          <span class="font-semibold">Fengshui Series: Interior Energy Audit</span>
        </h1>
        <p class="text-white/60 text-base md:text-lg max-w-2xl mx-auto leading-relaxed">
          Feng Shui is the science of optimizing your living space like a "circuit board" to balance energy flow. By aligning your home's layout with natural forces, you can minimize personal drain and maximize your health, wealth, and vitality.
        </p>
      </div>

      <!-- 课程卡片网格 -->
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12">
        {lessons.map((lesson) => (
          <div class="group relative h-96 cursor-pointer perspective">
            <div class="lesson-card w-full h-full transition-transform duration-500">
              <!-- 正面 -->
              <div class="lesson-card-front absolute w-full h-full bg-gradient-to-br from-white/10 to-white/5 backdrop-blur-xl rounded-2xl border border-white/20 p-6 flex flex-col justify-between overflow-hidden">
                <div class="absolute inset-0 bg-gradient-to-br from-white/5 to-transparent pointer-events-none rounded-2xl"></div>
                
                <div class="relative z-10">
                  <div class="flex items-start justify-between mb-4">
                    <div>
                      <h3 class="text-xl md:text-2xl font-semibold text-white mb-2">
                        {lesson.title}
                      </h3>
                      <p class="text-white/70 text-sm md:text-base leading-relaxed">
                        {lesson.description}
                      </p>
                    </div>
                  </div>
                </div>

                <div class="relative z-10">
                  <div class="flex items-end justify-between">
                    <div>
                      <p class="text-white/60 text-xs mb-1">Course Price</p>
                      <p class="text-3xl md:text-4xl font-light text-white">
                        ${lesson.price}
                      </p>
                    </div>
                    <button class="px-6 py-2 bg-white/20 hover:bg-white/30 border border-white/40 rounded-full text-white text-sm font-medium transition-all duration-300 backdrop-blur">
                      Details
                    </button>
                  </div>
                </div>
              </div>

              <!-- 背面 -->
              <div class="lesson-card-back absolute w-full h-full bg-gradient-to-br from-white/10 to-white/5 backdrop-blur-xl rounded-2xl border border-white/20 p-6 flex flex-col justify-between overflow-hidden [transform:rotateY(180deg)]">
                <div class="absolute inset-0 bg-gradient-to-br from-white/5 to-transparent pointer-events-none rounded-2xl"></div>
                
                <div class="relative z-10">
                  <h4 class="text-sm font-semibold text-white/80 mb-4 uppercase tracking-wider">
                    Course Highlights
                  </h4>
                  <div class="space-y-3">
                    {lesson.features.map((feature) => (
                      <div class="flex items-center gap-3">
                        <div class="w-2 h-2 rounded-full bg-gradient-to-r from-blue-400 to-cyan-400"></div>
                        <span class="text-white/70 text-sm">{feature}</span>
                      </div>
                    ))}
                  </div>
                </div>

                <div class="relative z-10 pt-4 border-t border-white/10">
                  <button class="enroll-btn w-full py-2 bg-gradient-to-r from-blue-500/80 to-cyan-500/80 hover:from-blue-600 hover:to-cyan-600 rounded-full text-white font-medium transition-all duration-300 text-sm">
                    Enroll Now
                  </button>
                </div>
              </div>
            </div>
          </div>
        ))}
      </div>

      <!-- 底部说明 -->
      <div class="mt-20 text-center">
        <p class="text-white/40 text-sm">
          Each lesson is crafted by experienced instructors, blending theory and practice to help
          you understand and apply feng shui energy with confidence.
        </p>
      </div>
    </div>

    <!-- 弹出框 -->
    <div id="contact-modal" class="fixed inset-0 z-[200] flex items-center justify-center bg-black/60 backdrop-blur-sm opacity-0 pointer-events-none transition-opacity duration-300">
      <div class="relative bg-gradient-to-br from-white/10 to-white/5 backdrop-blur-xl rounded-2xl border border-white/20 p-8 max-w-md mx-4 shadow-2xl transform scale-95 transition-transform duration-300">
        <button id="close-modal" class="absolute top-4 right-4 text-white/60 hover:text-white text-2xl leading-none">&times;</button>
        <div class="text-center">
          <h3 class="text-2xl font-semibold text-white mb-4">Contact Us</h3>
          <p class="text-white/70 mb-6">Please reach out to us via email to enroll:</p>
          <a href="mailto:serena@thoughtspace-lab.com" class="inline-block px-6 py-3 bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 rounded-full text-white font-medium transition-all duration-300">
            serena@thoughtspace-lab.com
          </a>
        </div>
      </div>
    </div>
  </section>

  <script>
    const enrollBtns = document.querySelectorAll('.enroll-btn');
    const modal = document.getElementById('contact-modal');
    const closeBtn = document.getElementById('close-modal');

    enrollBtns.forEach(btn => {
      btn.addEventListener('click', (e) => {
        e.preventDefault();
        e.stopPropagation();
        if (modal) {
          modal.classList.remove('opacity-0', 'pointer-events-none');
          modal.querySelector('.transform')?.classList.remove('scale-95');
          modal.querySelector('.transform')?.classList.add('scale-100');
        }
      });
    });

    closeBtn?.addEventListener('click', () => {
      if (modal) {
        modal.classList.add('opacity-0', 'pointer-events-none');
        modal.querySelector('.transform')?.classList.remove('scale-100');
        modal.querySelector('.transform')?.classList.add('scale-95');
      }
    });

    modal?.addEventListener('click', (e) => {
      if (e.target === modal) {
        modal.classList.add('opacity-0', 'pointer-events-none');
        modal.querySelector('.transform')?.classList.remove('scale-100');
        modal.querySelector('.transform')?.classList.add('scale-95');
      }
    });
  </script>
</Layout>

<style>
  #lesson-page {
    background-image: 
      linear-gradient(rgba(255, 255, 255, 0.02) 1px, transparent 1px),
      linear-gradient(90deg, rgba(255, 255, 255, 0.02) 1px, transparent 1px);
    background-size: 50px 50px;
  }

  .perspective {
    perspective: 1000px;
  }

  .lesson-card {
    transform-style: preserve-3d;
    transition: transform 0.6s;
  }

  .lesson-card-front,
  .lesson-card-back {
    backface-visibility: hidden;
  }

  .lesson-card-back {
    transform: rotateY(180deg);
  }

  .group:hover .lesson-card {
    transform: rotateY(180deg);
  }

  /* 浮动球动画 */
  .floating-orb {
    pointer-events: none;
    animation-timing-function: ease-in-out;
    animation-iteration-count: infinite;
  }

  .floating-orb-1 {
    top: 10%;
    left: 15%;
    animation: float1 10s infinite;
  }

  .floating-orb-2 {
    bottom: 15%;
    right: 10%;
    animation: float2 5s infinite;
  }

  .floating-orb-3 {
    top: 50%;
    right: 20%;
    animation: float3 18s infinite;
  }

  .floating-orb-4 {
    bottom: 30%;
    left: 10%;
    animation: float4 22s infinite;
  }

  .floating-orb-5 {
    top: 30%;
    left: 50%;
    animation: float5 15s infinite;
  }

  @keyframes float1 {
    0%, 100% { transform: translate(0, 0) scale(1); }
    25% { transform: translate(30px, -50px) scale(1.1); }
    50% { transform: translate(-20px, -80px) scale(0.8); }
    75% { transform: translate(40px, -40px) scale(1.05); }
  }

  @keyframes float2 {
    0%, 100% { transform: translate(0, 0) scale(1); }
    33% { transform: translate(-40px, 60px) scale(0.95); }
    66% { transform: translate(50px, 30px) scale(1.08); }
  }

  @keyframes float3 {
    0%, 100% { transform: translate(0, 0) scale(1); }
    30% { transform: translate(-60px, 40px) scale(1.1); }
    60% { transform: translate(40px, -30px) scale(0.6); }
  }

  @keyframes float4 {
    0%, 100% { transform: translate(0, 0) scale(1); }
    40% { transform: translate(50px, -40px) scale(1.05); }
    80% { transform: translate(-30px, 50px) scale(0.95); }
  }

  @keyframes float5 {
    0%, 100% { transform: translate(0, 0) scale(1); }
    25% { transform: translate(-40px, -30px) scale(1.08); }
    50% { transform: translate(40px, 40px) scale(0.92); }
    75% { transform: translate(-20px, -50px) scale(1.05); }
  }
</style>
