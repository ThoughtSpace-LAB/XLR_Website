---
import '~/assets/styles/feature-text.css';
import ScrollAnimationScript from '~/components/common/ScrollAnimationScript.astro';
import MoonPageCard from '~/components/widgets/moonpage/MoonPageCard.astro';

const featureCards = [
  {
    subtitle: 'Foresight Beyond the Moment',
    title: 'Sense the Hidden',
    description: 'This system helps you notice what others overlook. Whether it\'s a business about to shift, a partner growing distant, or a plan losing energy, it lets you see the quiet premonitions of what\'s to come.',
  },
  {
    subtitle: 'Discover the Door Behind the Wall',
    title: 'Life Foresight',
    description: 'This feature illuminates those hidden openings — a career pivot, an unexpected connection, a decision that could turn failure into freedom. It helps you recognize that destiny often hides behind detours.',
  },
  {
    subtitle: 'Move Ahead of Time',
    title: 'Reveal Opportunities',
    description: 'This feature allows you to plan with awareness — to choose your timing, your alliances, your moments of silence. In love, in business, in every crossroad, you can act not reactively, but with composure and clarity.',
  },
];
---

<section class="relative bg-gradient-to-b from-[#023344] via-[#1a6774] to-[#09a892] px-5 md:px-20 py-[50px] md:py-[100px] flex flex-col items-center">
  <!-- Header -->
  <div class="flex flex-col items-center w-full gap-[30px] md:px-[50px] lg:px-[300px] md:py-[30px] lg:py-[100px]">
    <p class="headline-large text-center bg-gradient-to-r from-white via-[#cefafe] to-[#a2f4fd] bg-clip-text text-transparent animate-slide-up-blur">
      What will be seen
    </p>
    <p class="headline-small text-center text-[rgba(206,250,254,0.6)] max-w-[680px] animate-slide-up-blur-delay-1">
      A clear reading of your energy, revealing the patterns, timing, and guidance shaping your next steps.
    </p>
  </div>


  <!-- Feature Cards -->
  <div class="w-full h-[400vh] flex flex-row">
    <div class="w-full md:w-1/2 flex flex-col h-[300vh] gap-[20vh]">
    {featureCards.map((card) => (
      <div class="w-full h-full relative flex justify-start">
        <div class="sticky top-3 w-full max-w-[436px] h-[400px] rounded-3xl overflow-hidden group hover:scale-[1.02]  transition-transform duration-300 animate-slide-up-blur">
          <!-- Glassy Background -->
          <MoonPageCard />
          <div class="relative z-10 h-full flex flex-col justify-between px-5 pt-10 pb-5">
            <div class="flex flex-col gap-3 text-white">
              <div class="flex flex-col gap-2">
                <span class="text-medium uppercase animate-slide-up-blur">{card.subtitle}</span>
                <h3 class="headline-medium animate-slide-up-blur-delay-1">{card.title}</h3>
              </div>
              <p class="body-small-highlight animate-slide-up-blur-delay-2">{card.description}</p>
            </div>
          </div>
        </div>
      </div>
    ))}
    </div>

    <!-- Moonanimation -->
    <div class="sticky flex flex-col top-0 right-0 w-[50vw] h-[90vh] overflow-hidden">
      <canvas id="spline-canvas" class="w-[110%] h-[110%] relative -bottom-[10%]"></canvas>
    </div>
  </div>

</section>

<!-- Spline 加载脚本 -->
<script>
  import { Application } from '@splinetool/runtime';

  // 等待 DOM 加载完成
  document.addEventListener('DOMContentLoaded', () => {
    const canvas = document.getElementById('spline-canvas');
    if (canvas) {
      const app = new Application(canvas);
      app.load('https://prod.spline.design/kg35p8HMxtVW7K1x/scene.splinecode');
    }
  });
</script>

<!-- 滚动动画脚本 -->
<ScrollAnimationScript />
