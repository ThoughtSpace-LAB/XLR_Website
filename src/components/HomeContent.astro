---
import Layout from '~/layouts/Layout.astro';
import LandingPage from '~/components/LandingPage.astro';
import MainPage from '~/components/MainPage.astro';
import FeaturePage from '~/components/FeaturePage.astro';
import MoonPage from '~/components/MoonPage.astro';
import PricePage from '~/components/PricePage.astro';
import FooterPage from '~/components/FooterPage.astro';
import '~/styles/feature-text.css';
import { useTranslations } from '~/i18n/utils';

const { lang = 'zh' } = Astro.props;
const t = useTranslations(lang);

const metadata = {
  title: t('site.title'),
  description: t('site.description'),
  ignoreTitleTemplate: true,
};
---

<Layout metadata={metadata}>    
  <div class="relative bg-black flex flex-col text-white font-serena cursor-none">
    
    <!-- Section 1: Landing Page / Hero -->
    <LandingPage lang={lang} />

    <!-- Section 2: Main Page with Sticky Scroll -->
    <MainPage lang={lang} />

    <!-- Section 3: How It Works (Astrology Chatbot UI) -->
    <FeaturePage lang={lang} />

    <!-- Section 4: What Will Be Seen (Moon Page) -->
    <MoonPage lang={lang} />

    <!-- Section 5: Registration & Pricing -->
    <PricePage lang={lang} />

    <!-- Section 6: Footer -->
    <FooterPage lang={lang} />
    
    <div 
      id="custom-cursor" 
      class="pointer-events-none fixed top-0 left-0 w-3 h-3 bg-white rounded-full mix-blend-difference hidden md:block"
      style="z-index: 999999; will-change: transform;"
    ></div>

    <script>
      const cursor = document.getElementById('custom-cursor');
      if (cursor) {
        window.addEventListener('mousemove', (e) => {
          cursor.style.transform = `translate3d(${e.clientX}px, ${e.clientY}px, 0) translate(-50%, -50%)`;
        }, { passive: true });

        document.documentElement.style.cursor = 'none';
      }
    </script>
  </div>
</Layout>
